<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webserv - HTTP Server Audit Page</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <h1>üöÄ Webserv HTTP Server - Audit Testing Page</h1>
        
        <div class="success-note">
            <strong>‚úÖ Server Status:</strong> <span class="status-indicator status-ok"></span>Server is running and ready for audit testing!
        </div>

        <h2>üìã Quick Audit Checklist</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>üåê Basic HTTP Methods</h3>
                <p>Test GET, POST, DELETE methods with proper status codes.</p>
                <a href="/" class="test-link"><span class="method-tag">GET</span>Homepage</a>
                <div class="curl-example">curl -X POST -d "test" http://localhost:8080/api</div>
                <div class="curl-example">curl -X DELETE http://localhost:8080/api</div>
            </div>

            <div class="feature-card">
                <h3>üîí Method-Based Access Control</h3>
                <p>Test accepted methods for different routes (DELETE with/without permission).</p>
                <div class="curl-example">curl -X DELETE http://localhost:8080/ # ‚úÖ DELETE allowed on root</div>
                <div class="curl-example">curl -X DELETE http://localhost:8080/api # ‚ùå DELETE forbidden on /api</div>
                <div class="curl-example">curl -X DELETE http://localhost:8080/uploads # ‚úÖ DELETE allowed on /uploads</div>
                <div class="curl-example">curl -X POST http://localhost:8080/uploads # ‚ùå POST forbidden on /uploads</div>
            </div>

            <div class="feature-card">
                <h3>üìÅ Directory Listing</h3>
                <p>Test autoindex functionality and directory browsing.</p>
                <a href="/uploads" class="test-link">Browse Uploads Directory</a>
            </div>

            <div class="feature-card">
                <h3>üì§ File Upload</h3>
                <p>Test multipart/form-data file uploads.</p>
                <a href="/upload" class="test-link upload">Upload Interface</a>
                <div class="curl-example">curl -F "file=@test.txt" http://localhost:8080/upload</div>
            </div>
        </div>

        <h2>üêç CGI Testing</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>‚úÖ Successful CGI</h3>
                <p>Test working Python CGI script execution.</p>
                <a href="/cgi-bin/test.py" class="test-link cgi"><span class="method-tag">GET</span>CGI Test Script</a>
                <div class="curl-example">curl -X POST -d "name=test" http://localhost:8080/cgi-bin/test.py</div>
            </div>

            <div class="feature-card">
                <h3>üîÑ Chunked vs Unchunked CGI Data</h3>
                <p>Test CGI with both chunked and unchunked transfer encoding.</p>
                <a href="/cgi-bin/echo.py" class="test-link cgi"><span class="method-tag">GET</span>CGI Echo Test</a>
                <div class="curl-example">curl -X POST -d "unchunked=data" http://localhost:8080/cgi-bin/echo.py</div>
                <div class="curl-example">curl -X POST -H "Transfer-Encoding: chunked" --data-binary "chunked data" http://localhost:8080/cgi-bin/echo.py</div>
            </div>

            <div class="feature-card">
                <h3>üîÑ Chunked vs Unchunked</h3>
                <p>Test chunked transfer encoding support.</p>
                <a href="/chunked-demo" class="test-link">Chunked Response</a>
                <a href="/normal-demo" class="test-link">Normal Response</a>
                <div class="curl-example">curl -H "Transfer-Encoding: chunked" --data-binary @file.txt http://localhost:8080/cgi-bin/test.py</div>
            </div>
        </div>

        <h2>‚ö†Ô∏è Error Page Testing</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>HTTP Error Codes</h3>
                <p>Test custom error pages for various HTTP status codes.</p>
                <a href="/nonexistent" class="test-link error">404 Not Found</a>
                <a href="/protected/secret.txt" class="test-link error">403 Forbidden</a>
                <a href="/cgi-bin/fail.py" class="test-link error">500 Internal Server Error</a>
                <div class="curl-example">curl -X PATCH http://localhost:8080/ # 405 Method Not Allowed</div>
                <div class="curl-example">curl -X POST -H "Content-Length: 999999999" http://localhost:8080/ # 413 Payload Too Large</div>
            </div>

            <div class="feature-card">
                <h3>Malformed Requests</h3>
                <p>Test server stability with invalid HTTP requests.</p>
                <div class="curl-example">printf 'BADMETHOD / HTTP/1.1\r\n\r\n' | nc localhost 8080</div>
                <div class="curl-example">printf 'GET /' | nc localhost 8080</div>
                <p><small>Server should return 400 Bad Request and stay running.</small></p>
            </div>
        </div>

        <h2>üîÑ Redirect Testing</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>URL Redirection</h3>
                <p>Test HTTP redirection functionality.</p>
                <a href="/redirect" class="test-link">Test Redirect</a>
                <div class="curl-example">curl -v http://localhost:8080/redirect # Should return 301 redirect</div>
                <p><small>Should redirect to homepage with 301 status code.</small></p>
            </div>
        </div>
    </div>
</body>
</html>